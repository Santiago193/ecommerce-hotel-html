--
-- PostgreSQL database dump
--

\restrict 4Iq16LW35MYFwz1IsndvcHcmtjRKbk9iEtTA26Vy7qhMFXFmOCeXpxppGI2TdJt

-- Dumped from database version 13.5
-- Dumped by pg_dump version 18.0

-- Started on 2025-11-19 10:10:01

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 6 (class 2615 OID 22967)
-- Name: auditoria; Type: SCHEMA; Schema: -; Owner: alumno
--

CREATE SCHEMA auditoria;


ALTER SCHEMA auditoria OWNER TO alumno;

--
-- TOC entry 4 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

-- *not* creating schema, since initdb creates it


ALTER SCHEMA public OWNER TO postgres;

--
-- TOC entry 217 (class 1255 OID 23014)
-- Name: fn_log_audit(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.fn_log_audit() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
  IF (TG_OP = 'DELETE') THEN
    INSERT INTO "auditoria".tb_auditoria ("tabla_aud", "operacion_aud", "valoranterior_aud", "valornuevo_aud", "fecha_aud", "usuario_aud")
           VALUES (TG_TABLE_NAME, 'D', OLD, NULL, now(), USER);
    RETURN OLD;
  ELSIF (TG_OP = 'UPDATE') THEN
    INSERT INTO "auditoria".tb_auditoria ("tabla_aud", "operacion_aud", "valoranterior_aud", "valornuevo_aud", "fecha_aud", "usuario_aud")
           VALUES (TG_TABLE_NAME, 'U', OLD, NEW, now(), USER);
    RETURN NEW;
  ELSIF (TG_OP = 'INSERT') THEN
    INSERT INTO "auditoria".tb_auditoria ("tabla_aud", "operacion_aud", "valoranterior_aud", "valornuevo_aud", "fecha_aud", "usuario_aud")
           VALUES (TG_TABLE_NAME, 'I', NULL, NEW, now(), USER);
    RETURN NEW;
  END IF;
  RETURN NULL;
END;
$$;


ALTER FUNCTION public.fn_log_audit() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 22995)
-- Name: tb_auditoria; Type: TABLE; Schema: auditoria; Owner: alumno
--

CREATE TABLE auditoria.tb_auditoria (
    id_aud integer NOT NULL,
    tabla_aud text,
    operacion_aud text,
    valoranterior_aud text,
    valornuevo_aud text,
    fecha_aud date,
    usuario_aud text,
    esquema_aud text,
    activar_aud boolean,
    trigger_aud boolean
);


ALTER TABLE auditoria.tb_auditoria OWNER TO alumno;

--
-- TOC entry 215 (class 1259 OID 22993)
-- Name: tb_auditoria_id_aud_seq; Type: SEQUENCE; Schema: auditoria; Owner: alumno
--

CREATE SEQUENCE auditoria.tb_auditoria_id_aud_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE auditoria.tb_auditoria_id_aud_seq OWNER TO alumno;

--
-- TOC entry 3086 (class 0 OID 0)
-- Dependencies: 215
-- Name: tb_auditoria_id_aud_seq; Type: SEQUENCE OWNED BY; Schema: auditoria; Owner: alumno
--

ALTER SEQUENCE auditoria.tb_auditoria_id_aud_seq OWNED BY auditoria.tb_auditoria.id_aud;


--
-- TOC entry 201 (class 1259 OID 22092)
-- Name: tb_categoria; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_categoria (
    id_cat integer NOT NULL,
    descripcion_cat text
);


ALTER TABLE public.tb_categoria OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 22098)
-- Name: tb_categoria_id_cat_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_categoria ALTER COLUMN id_cat ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_categoria_id_cat_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 203 (class 1259 OID 22100)
-- Name: tb_estadocivil; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_estadocivil (
    id_est integer NOT NULL,
    descripcion_est text
);


ALTER TABLE public.tb_estadocivil OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 22106)
-- Name: tb_estadocivil_id_est_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_estadocivil ALTER COLUMN id_est ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_estadocivil_id_est_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 205 (class 1259 OID 22108)
-- Name: tb_pagina; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_pagina (
    id_pag integer NOT NULL,
    descripcion_pag text,
    path_pag text
);


ALTER TABLE public.tb_pagina OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 22114)
-- Name: tb_pagina_id_pag_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_pagina ALTER COLUMN id_pag ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_pagina_id_pag_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 207 (class 1259 OID 22116)
-- Name: tb_parametros; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_parametros (
    id_par integer NOT NULL,
    descripcion_par text,
    valor_par text
);


ALTER TABLE public.tb_parametros OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 22122)
-- Name: tb_perfil; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_perfil (
    id_per integer NOT NULL,
    descripcion_per text
);


ALTER TABLE public.tb_perfil OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 22128)
-- Name: tb_perfilpagina; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_perfilpagina (
    id_perpag integer NOT NULL,
    id_per integer,
    id_pag integer
);


ALTER TABLE public.tb_perfilpagina OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 22131)
-- Name: tb_perfilpagina_id_perpag_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_perfilpagina ALTER COLUMN id_perpag ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_perfilpagina_id_perpag_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 211 (class 1259 OID 22133)
-- Name: tb_producto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_producto (
    id_pr integer NOT NULL,
    id_cat integer,
    nombre_pr text,
    cantidad_pr integer,
    precio_pr double precision,
    foto_pr bytea,
    imagen_pr text
);


ALTER TABLE public.tb_producto OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 22139)
-- Name: tb_producto_id_pr_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_producto ALTER COLUMN id_pr ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_producto_id_pr_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 213 (class 1259 OID 22141)
-- Name: tb_usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_usuario (
    id_us integer NOT NULL,
    id_per integer,
    id_est integer,
    nombre_us text,
    cedula_us text,
    correo_us text,
    clave_us text
);


ALTER TABLE public.tb_usuario OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 22147)
-- Name: tb_usuario_id_us_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tb_usuario ALTER COLUMN id_us ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tb_usuario_id_us_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 2904 (class 2604 OID 22998)
-- Name: tb_auditoria id_aud; Type: DEFAULT; Schema: auditoria; Owner: alumno
--

ALTER TABLE ONLY auditoria.tb_auditoria ALTER COLUMN id_aud SET DEFAULT nextval('auditoria.tb_auditoria_id_aud_seq'::regclass);


--
-- TOC entry 3079 (class 0 OID 22995)
-- Dependencies: 216
-- Data for Name: tb_auditoria; Type: TABLE DATA; Schema: auditoria; Owner: alumno
--

COPY auditoria.tb_auditoria (id_aud, tabla_aud, operacion_aud, valoranterior_aud, valornuevo_aud, fecha_aud, usuario_aud, esquema_aud, activar_aud, trigger_aud) FROM stdin;
1	tb_perfil	\N	\N	\N	\N	\N	public	\N	t
2	tb_estadocivil	\N	\N	\N	\N	\N	public	\N	t
3	tb_categoria	\N	\N	\N	\N	\N	public	\N	t
4	tb_parametros	\N	\N	\N	\N	\N	public	\N	f
5	tb_producto	\N	\N	\N	\N	\N	public	\N	t
6	tb_usuario	\N	\N	\N	\N	\N	public	\N	t
7	tb_pagina	\N	\N	\N	\N	\N	public	\N	t
8	tb_perfilpagina	\N	\N	\N	\N	\N	public	\N	t
9	tb_categoria	U	(3,"SERVICIOS HOTEL")	(3,"SERVICIOS HOTEL")	2025-11-19	postgres	\N	\N	\N
10	tb_categoria	U	(3,"SERVICIOS HOTEL")	(3,"SERVICIOS HOTELES")	2025-11-19	postgres	\N	\N	\N
11	tb_categoria	U	(2,HABITACION)	(2,HABITACIONES)	2025-11-19	postgres	\N	\N	\N
\.


--
-- TOC entry 3064 (class 0 OID 22092)
-- Dependencies: 201
-- Data for Name: tb_categoria; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_categoria (id_cat, descripcion_cat) FROM stdin;
1	ZONA GASTRONOMICA
3	SERVICIOS HOTELES
2	HABITACIONES
\.


--
-- TOC entry 3066 (class 0 OID 22100)
-- Dependencies: 203
-- Data for Name: tb_estadocivil; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_estadocivil (id_est, descripcion_est) FROM stdin;
3	casado
2	soltero
1	divorciado
\.


--
-- TOC entry 3068 (class 0 OID 22108)
-- Dependencies: 205
-- Data for Name: tb_pagina; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_pagina (id_pag, descripcion_pag, path_pag) FROM stdin;
1	Carrito de Compras	http://localhost:8080/hotelSambrano/carrito.jsp
2	Administrar Usuarios	http://localhost:8080/hotelSambrano/usuarios.jsp
3	Administrar Productos	http://localhost:8080/hotelSambrano/administrarProductos.jsp
4	Bitacora	http://localhost:8080/hotelSambrano/bitacora.jsp
5	Cerrar Sesion	http://localhost:8080/hotelSambrano/cerrarSesion.jsp
\.


--
-- TOC entry 3070 (class 0 OID 22116)
-- Dependencies: 207
-- Data for Name: tb_parametros; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_parametros (id_par, descripcion_par, valor_par) FROM stdin;
\.


--
-- TOC entry 3071 (class 0 OID 22122)
-- Dependencies: 208
-- Data for Name: tb_perfil; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_perfil (id_per, descripcion_per) FROM stdin;
1	administrador
2	cliente
3	vendedor
\.


--
-- TOC entry 3072 (class 0 OID 22128)
-- Dependencies: 209
-- Data for Name: tb_perfilpagina; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_perfilpagina (id_perpag, id_per, id_pag) FROM stdin;
1	1	2
2	1	4
3	1	5
4	2	1
5	2	5
6	3	3
7	3	5
8	1	3
\.


--
-- TOC entry 3074 (class 0 OID 22133)
-- Dependencies: 211
-- Data for Name: tb_producto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_producto (id_pr, id_cat, nombre_pr, cantidad_pr, precio_pr, foto_pr, imagen_pr) FROM stdin;
1	1	Desayuno Buffet	10	15	\N	Breakfast.glb
2	1	Cafetería	10	12	\N	CoffeeShop.glb
3	1	Almuerzo Ejecutivo	10	18	\N	LunchCounter.glb
4	2	Cama Doble	5	25	\N	Beddouble.glb
5	2	Cama Sencilla	5	20	\N	BedSingle.glb
6	2	Camarote	5	22	\N	BunkBed.glb
7	2	Servicio a la Habitación	10	8	\N	serviciohabitacion.glb
8	3	Piscina	10	0	\N	Swimmingpool.glb
9	3	Tours del Hotel	10	30	\N	tours.glb
10	3	Servicio de Wifi	10	0	\N	wifi.glb
\.


--
-- TOC entry 3076 (class 0 OID 22141)
-- Dependencies: 213
-- Data for Name: tb_usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_usuario (id_us, id_per, id_est, nombre_us, cedula_us, correo_us, clave_us) FROM stdin;
1	1	1	Peter Parker	1714032712	spiderman@gmail.com	spiderman
2	2	2	Diana Prince	1714032712	maravilla@gmail.com	maravilla
3	3	3	Bruno Diaz	1784032712	batman@gmail.com	batman
4	2	1	david	1234567890	david@gmail.com	1234
\.


--
-- TOC entry 3087 (class 0 OID 0)
-- Dependencies: 215
-- Name: tb_auditoria_id_aud_seq; Type: SEQUENCE SET; Schema: auditoria; Owner: alumno
--

SELECT pg_catalog.setval('auditoria.tb_auditoria_id_aud_seq', 11, true);


--
-- TOC entry 3088 (class 0 OID 0)
-- Dependencies: 202
-- Name: tb_categoria_id_cat_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_categoria_id_cat_seq', 3, true);


--
-- TOC entry 3089 (class 0 OID 0)
-- Dependencies: 204
-- Name: tb_estadocivil_id_est_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_estadocivil_id_est_seq', 1, false);


--
-- TOC entry 3090 (class 0 OID 0)
-- Dependencies: 206
-- Name: tb_pagina_id_pag_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_pagina_id_pag_seq', 1, false);


--
-- TOC entry 3091 (class 0 OID 0)
-- Dependencies: 210
-- Name: tb_perfilpagina_id_perpag_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_perfilpagina_id_perpag_seq', 2, true);


--
-- TOC entry 3092 (class 0 OID 0)
-- Dependencies: 212
-- Name: tb_producto_id_pr_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_producto_id_pr_seq', 10, true);


--
-- TOC entry 3093 (class 0 OID 0)
-- Dependencies: 214
-- Name: tb_usuario_id_us_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tb_usuario_id_us_seq', 4, true);


--
-- TOC entry 2922 (class 2606 OID 23003)
-- Name: tb_auditoria pk_tb_auditoria; Type: CONSTRAINT; Schema: auditoria; Owner: alumno
--

ALTER TABLE ONLY auditoria.tb_auditoria
    ADD CONSTRAINT pk_tb_auditoria PRIMARY KEY (id_aud);


--
-- TOC entry 2906 (class 2606 OID 22150)
-- Name: tb_categoria tb_categoria_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_categoria
    ADD CONSTRAINT tb_categoria_pkey PRIMARY KEY (id_cat);


--
-- TOC entry 2908 (class 2606 OID 22152)
-- Name: tb_estadocivil tb_estadocivil_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_estadocivil
    ADD CONSTRAINT tb_estadocivil_pkey PRIMARY KEY (id_est);


--
-- TOC entry 2910 (class 2606 OID 22154)
-- Name: tb_pagina tb_pagina_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_pagina
    ADD CONSTRAINT tb_pagina_pkey PRIMARY KEY (id_pag);


--
-- TOC entry 2912 (class 2606 OID 22156)
-- Name: tb_parametros tb_parametros_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_parametros
    ADD CONSTRAINT tb_parametros_pkey PRIMARY KEY (id_par);


--
-- TOC entry 2914 (class 2606 OID 22158)
-- Name: tb_perfil tb_perfil_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_perfil
    ADD CONSTRAINT tb_perfil_pkey PRIMARY KEY (id_per);


--
-- TOC entry 2916 (class 2606 OID 22160)
-- Name: tb_perfilpagina tb_perfilpagina_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_perfilpagina
    ADD CONSTRAINT tb_perfilpagina_pkey PRIMARY KEY (id_perpag);


--
-- TOC entry 2918 (class 2606 OID 22162)
-- Name: tb_producto tb_producto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_producto
    ADD CONSTRAINT tb_producto_pkey PRIMARY KEY (id_pr);


--
-- TOC entry 2920 (class 2606 OID 22164)
-- Name: tb_usuario tb_usuario_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_usuario
    ADD CONSTRAINT tb_usuario_pkey PRIMARY KEY (id_us);


--
-- TOC entry 2923 (class 1259 OID 23004)
-- Name: tb_auditoria_pk; Type: INDEX; Schema: auditoria; Owner: alumno
--

CREATE UNIQUE INDEX tb_auditoria_pk ON auditoria.tb_auditoria USING btree (id_aud);


--
-- TOC entry 2929 (class 2620 OID 23275)
-- Name: tb_categoria tb_categoria_tg_audit; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER tb_categoria_tg_audit AFTER INSERT OR DELETE OR UPDATE ON public.tb_categoria FOR EACH ROW EXECUTE FUNCTION public.fn_log_audit();


--
-- TOC entry 2930 (class 2620 OID 23276)
-- Name: tb_pagina tb_pagina_tg_audit; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER tb_pagina_tg_audit AFTER INSERT OR DELETE OR UPDATE ON public.tb_pagina FOR EACH ROW EXECUTE FUNCTION public.fn_log_audit();


--
-- TOC entry 2931 (class 2620 OID 23277)
-- Name: tb_parametros tb_parametros_tg_audit; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER tb_parametros_tg_audit AFTER INSERT OR DELETE OR UPDATE ON public.tb_parametros FOR EACH ROW EXECUTE FUNCTION public.fn_log_audit();


--
-- TOC entry 2932 (class 2620 OID 23278)
-- Name: tb_producto tb_producto_tg_audit; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER tb_producto_tg_audit AFTER INSERT OR DELETE OR UPDATE ON public.tb_producto FOR EACH ROW EXECUTE FUNCTION public.fn_log_audit();


--
-- TOC entry 2933 (class 2620 OID 23279)
-- Name: tb_usuario tb_usuario_tg_audit; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER tb_usuario_tg_audit AFTER INSERT OR DELETE OR UPDATE ON public.tb_usuario FOR EACH ROW EXECUTE FUNCTION public.fn_log_audit();


--
-- TOC entry 2924 (class 2606 OID 22165)
-- Name: tb_perfilpagina tb_perfilpagina_id_pag_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_perfilpagina
    ADD CONSTRAINT tb_perfilpagina_id_pag_fkey FOREIGN KEY (id_pag) REFERENCES public.tb_pagina(id_pag);


--
-- TOC entry 2925 (class 2606 OID 22170)
-- Name: tb_perfilpagina tb_perfilpagina_id_per_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_perfilpagina
    ADD CONSTRAINT tb_perfilpagina_id_per_fkey FOREIGN KEY (id_per) REFERENCES public.tb_perfil(id_per);


--
-- TOC entry 2926 (class 2606 OID 22175)
-- Name: tb_producto tb_producto_id_cat_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_producto
    ADD CONSTRAINT tb_producto_id_cat_fkey FOREIGN KEY (id_cat) REFERENCES public.tb_categoria(id_cat);


--
-- TOC entry 2927 (class 2606 OID 22180)
-- Name: tb_usuario tb_usuario_id_est_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_usuario
    ADD CONSTRAINT tb_usuario_id_est_fkey FOREIGN KEY (id_est) REFERENCES public.tb_estadocivil(id_est);


--
-- TOC entry 2928 (class 2606 OID 22185)
-- Name: tb_usuario tb_usuario_id_per_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_usuario
    ADD CONSTRAINT tb_usuario_id_per_fkey FOREIGN KEY (id_per) REFERENCES public.tb_perfil(id_per);


--
-- TOC entry 3085 (class 0 OID 0)
-- Dependencies: 4
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2025-11-19 10:10:02

--
-- PostgreSQL database dump complete
--

\unrestrict 4Iq16LW35MYFwz1IsndvcHcmtjRKbk9iEtTA26Vy7qhMFXFmOCeXpxppGI2TdJt

